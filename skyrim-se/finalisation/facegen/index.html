<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Facegen | The Phoenix Flavour</title><meta property="og:title" content="Facegen"><meta property="og:description" content="Creating facegen for vanilla NPCs and mods."><meta property="og:type" content="article"><meta property="og:url" content="https://thephoenixflavour.com/skyrim-se/finalisation/facegen/"><meta property="article:modified_time" content="2021-03-04T21:01:37+00:00"><meta property="og:site_name" content="The Phoenix Flavour"><meta itemprop=name content="Facegen"><meta itemprop=description content="Creating facegen for vanilla NPCs and mods."><meta itemprop=dateModified content="2021-03-04T21:01:37+00:00"><meta itemprop=wordCount content="1088"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Facegen"><meta name=twitter:description content="Creating facegen for vanilla NPCs and mods."><link rel=preload href=/scss/main.min.29fc01487ebd835c661b810907943df0dabbbe36c1b27fcfb26f699a1e958148.css as=style><link href=/scss/main.min.29fc01487ebd835c661b810907943df0dabbbe36c1b27fcfb26f699a1e958148.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="37pt" height="1024pt" viewBox="0 0 1024 1024"><g transform="translate(0.000000,900.000000) scale(0.095000,-0.090000)" fill="#235163" stroke="none"><path d="M4330 9784c0-3 25-78 54-167 267-793 274-1394 21-1912-187-383-449-658-1165-1220-634-499-882-715-1124-982-361-4e2-563-725-707-1143-319-921-221-1891 264-2615 104-156 187-256 336-406 325-326 693-561 1178-752 233-92 706-234 751-225 11 2-5 16-43 37-433 242-784 670-954 1165-220 637-173 1313 134 1941 138 282 297 505 532 745l153 155-15-52c-48-165-85-422-85-591 0-297 74-570 210-773 59-87 192-215 276-265 165-97 3e2-129 508-121 144 6 176 12 354 66 420 126 785 45 1048-231 209-220 310-534 284-878-36-467-222-772-606-996l-79-46 54 7c89 10 402 93 559 147 380 131 734 322 1032 559 131 104 422 393 522 519 391 494 639 1071 740 1720 30 198 33 690 5 870-40 252-110 473-227 717-82 171-138 268-330 568-235 368-319 534-371 732-31 115-37 339-14 470 23 128 80 302 144 438 28 59 49 111 46 114-10 9-197-19-297-44-138-35-261-87-364-154-115-75-179-134-254-233-191-253-275-602-254-1058 14-304 10-4e2-20-503-46-155-114-266-234-379-257-242-623-286-892-107-94 63-175 152-219 240-50 1e2-64 169-59 288 8 179 83 337 246 516 204 225 270 317 373 520 76 151 137 329 174 505 32 153 45 463 26 626-51 433-236 851-548 1239-168 210-443 468-693 652-152 111-445 303-464 303-3 0-6-3-6-6z"/></g></svg></span><span class="text-uppercase font-weight-bold">The Phoenix Flavour</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/skyrim-se/><span class=active>Skyrim SE</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/fallout/><span>Fallout 4</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/bioware/><span>Bioware</span></a></li><li><div class=js-toggle-wrapper><div class=js-toggle><div class=js-toggle-track><div class=js-toggle-track-check><i class="fas fa-moon"></i></div><div class=js-toggle-track-x><i class="fas fa-sun"></i></div></div><div class=js-toggle-thumb></div><input class=js-toggle-screenreader-only type=checkbox aria-label="Switch between Dark and Light mode"></div></div><script>var body=document.body;var switcher=document.getElementsByClassName('js-toggle')[0];body.classList.add('theme--default');switcher.addEventListener("click",function(){this.classList.toggle('js-toggle--checked');this.classList.add('js-toggle--focus');if(this.classList.contains('js-toggle--checked')){body.classList.add('theme--light');body.classList.remove('theme--default');localStorage.setItem('lightMode','true');}else{body.classList.remove('theme--light');body.classList.add('theme--default');setTimeout(function(){localStorage.removeItem('lightMode');},100);}})
if(localStorage.getItem('lightMode')){switcher.classList.add('js-toggle--checked');body.classList.add('theme--light');body.classList.remove('theme--default');}</script></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav><style>.js-toggle-wrapper{display:table;margin:0 auto}.js-toggle{touch-action:pan-x;display:inline-block;position:relative;cursor:pointer;background-color:transparent;border:0;top:8.5px;padding:0;-webkit-touch-callout:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}.js-toggle-screenreader-only{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.js-toggle-track{width:50px;height:24px;padding:0;border-radius:30px;background-color:#000}.js-toggle-track-check{position:absolute;width:17px;height:17px;left:5px;top:2px;bottom:0;margin-top:auto;margin-bottom:auto;line-height:0;opacity:1;color:#fafafa}.js-toggle--checked .js-toggle-track-check{opacity:1}.js-toggle-track-x{position:absolute;width:17px;height:17px;right:5px;top:2px;bottom:0;margin-top:auto;margin-bottom:auto;line-height:0;opacity:1;color:#fafafa}.js-toggle--checked .js-toggle-track-x{opacity:1}.js-toggle-thumb{position:absolute;top:.7px;left:1px;width:22px;height:22px;border-radius:50%;background-color:#fafafa;box-sizing:border-box}.js-toggle--checked .js-toggle-thumb{transform:translateX(26px)}</style></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Skyrim SE</a></li><ul><li class="collapse show" id=skyrim-se><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/introduction/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Introduction</a></li><ul><li class=collapse id=skyrim-seintroduction></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/initial-setup/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Initial Setup</a></li><ul><li class=collapse id=skyrim-seinitial-setup><a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seinitial-setupprerequisites href=/skyrim-se/initial-setup/prerequisites/>Prerequisites</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seinitial-setupskyrim-and-steam href=/skyrim-se/initial-setup/skyrim-and-steam/>Skyrim and Steam</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seinitial-setupthe-creation-kit href=/skyrim-se/initial-setup/the-creation-kit/>The Creation Kit</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seinitial-setupmod-organizer-2 href=/skyrim-se/initial-setup/mod-organizer-2/>Mod Organizer 2</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seinitial-setupskyrim-script-extender href=/skyrim-se/initial-setup/skyrim-script-extender/>Skyrim Script Extender</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seinitial-setupini-files href=/skyrim-se/initial-setup/ini-files/>INI Files</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seinitial-setupadditional-tools href=/skyrim-se/initial-setup/additional-tools/>Additional Tools</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seinitial-setupesm-cleaning href=/skyrim-se/initial-setup/esm-cleaning/>ESM Cleaning</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/mod-installation/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Mod Installation</a></li><ul><li class=collapse id=skyrim-semod-installation><a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationinstructions href=/skyrim-se/mod-installation/instructions/>Instructions</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationessential-mods href=/skyrim-se/mod-installation/essential-mods/>Essential Mods</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationfixes href=/skyrim-se/mod-installation/fixes/>Fixes</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationtweaks href=/skyrim-se/mod-installation/tweaks/>Tweaks</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationinterface href=/skyrim-se/mod-installation/interface/>Interface</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationgraphics-baseline href=/skyrim-se/mod-installation/graphics-baseline/>Graphics Baseline</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationweather href=/skyrim-se/mod-installation/weather/>Weather</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationlighting href=/skyrim-se/mod-installation/lighting/>Lighting</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationvisual-fx href=/skyrim-se/mod-installation/visual-fx/>Visual FX</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationlandscape href=/skyrim-se/mod-installation/landscape/>Landscape</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationtrees-plants href=/skyrim-se/mod-installation/trees-plants/>Trees & Plants</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationworldspace-additions href=/skyrim-se/mod-installation/worldspace-additions/>Worldspace Additions</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationcities-towns href=/skyrim-se/mod-installation/cities-towns/>Cities & Towns</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationarchitecture href=/skyrim-se/mod-installation/architecture/>Architecture</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationmisc-structures href=/skyrim-se/mod-installation/misc-structures/>Misc Structures</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationinteriors href=/skyrim-se/mod-installation/interiors/>Interiors</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationdungeons href=/skyrim-se/mod-installation/dungeons/>Dungeons</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationclutter href=/skyrim-se/mod-installation/clutter/>Clutter</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationfood-ingredients href=/skyrim-se/mod-installation/food-ingredients/>Food & Ingredients</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationapparel-weapons href=/skyrim-se/mod-installation/apparel-weapons/>Apparel & Weapons</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationunique-artifacts href=/skyrim-se/mod-installation/unique-artifacts/>Unique Artifacts</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationcreatures href=/skyrim-se/mod-installation/creatures/>Creatures</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationappearance href=/skyrim-se/mod-installation/appearance/>Appearance</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationgameplay-overhauls href=/skyrim-se/mod-installation/gameplay-overhauls/>Gameplay Overhauls</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationnon-player-characters href=/skyrim-se/mod-installation/non-player-characters/>Non-Player Characters</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationimproved-vanilla-quests href=/skyrim-se/mod-installation/improved-vanilla-quests/>Improved Vanilla Quests</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationcollege-of-winterhold href=/skyrim-se/mod-installation/college-of-winterhold/>College of Winterhold</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationbalancing href=/skyrim-se/mod-installation/balancing/>Balancing</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationcombat-encounters href=/skyrim-se/mod-installation/combat-encounters/>Combat & Encounters</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationmiscellaneous href=/skyrim-se/mod-installation/miscellaneous/>Miscellaneous</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationassorted-plugins href=/skyrim-se/mod-installation/assorted-plugins/>Assorted Plugins</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationsounds-music href=/skyrim-se/mod-installation/sounds-music/>Sounds & Music</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationskeleton-animations href=/skyrim-se/mod-installation/skeleton-animations/>Skeleton & Animations</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-semod-installationutilities href=/skyrim-se/mod-installation/utilities/>Utilities</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/finalisation/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Finalisation</a></li><ul><li class="collapse show" id=skyrim-sefinalisation><a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-sefinalisationwrapping-up href=/skyrim-se/finalisation/wrapping-up/>Wrapping Up</a>
<a class="td-sidebar-link td-sidebar-link__page active" id=m-skyrim-sefinalisationfacegen href=/skyrim-se/finalisation/facegen/>Facegen</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-sefinalisationnemesis href=/skyrim-se/finalisation/nemesis/>Nemesis Behavior Engine</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-sefinalisationallgud href=/skyrim-se/finalisation/allgud/>All Geared Up Derivative</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-sefinalisationdyndolod href=/skyrim-se/finalisation/dyndolod/>DynDOLOD</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-sefinalisationocclusion href=/skyrim-se/finalisation/occlusion/>Occlusion</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-sefinalisationenbseries href=/skyrim-se/finalisation/enbseries/>ENBSeries</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-sefinalisationfirst-launch href=/skyrim-se/finalisation/first-launch/>First Launch</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/wabbajack/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Wabbajack</a></li><ul><li class=collapse id=skyrim-sewabbajack></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/mod-configuration/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Mod Configuration</a></li><ul><li class=collapse id=skyrim-semod-configuration></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/gameplay-guide/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Gameplay Guide</a></li><ul><li class=collapse id=skyrim-segameplay-guide><a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-segameplay-guidequests href=/skyrim-se/gameplay-guide/quests/>Quests</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/tpf-addons/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">TPF Addons</a></li><ul><li class=collapse id=skyrim-setpf-addons><a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-setpf-addonsaddon-primer href=/skyrim-se/tpf-addons/addon-primer/>Addon Primer</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-setpf-addonsupdating-addons href=/skyrim-se/tpf-addons/updating-addons/>Updating Addons</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-setpf-addonsavailable-addons href=/skyrim-se/tpf-addons/available-addons/>Available Addons</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/guide-resources/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Resources</a></li><ul><li class=collapse id=skyrim-seguide-resources><a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seguide-resourcesterminology href=/skyrim-se/guide-resources/terminology/>Terminology</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seguide-resourcesbasic-instructions href=/skyrim-se/guide-resources/basic-instructions/>Basic Instructions</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seguide-resourcesvarious-tutorials href=/skyrim-se/guide-resources/various-tutorials/>Various Tutorials</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seguide-resourceshow-to-update href=/skyrim-se/guide-resources/how-to-update/>How To Update</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seguide-resourceswidescreen-support href=/skyrim-se/guide-resources/widescreen-support/>Widescreen Support</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seguide-resourcesmodding-guides href=/skyrim-se/guide-resources/modding-guides/>Modding Guides</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/skyrim-se/appendix/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Appendix</a></li><ul><li class=collapse id=skyrim-seappendix><a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seappendixfaq href=/skyrim-se/appendix/faq/>Frequently Asked Questions</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seappendixtroubleshooting href=/skyrim-se/appendix/troubleshooting/>Troubleshooting</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seappendixchangelog href=/skyrim-se/appendix/changelog/>Changelog</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seappendixfuture-plans href=/skyrim-se/appendix/future-plans/>Future Plans</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-skyrim-seappendixcredits href=/skyrim-se/appendix/credits/>Credits</a></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><nav id=TableOfContents><ul><li><a href=#about-facegen>About Facegen</a><ul><li><a href=#new-separator>New Separator</a></li></ul></li><li><a href=#creation-kit-tweak>Creation Kit Tweak</a></li><li><a href=#npcswithfaces>NPCsWithFaces</a><ul><li><a href=#open-in-zedit>Open in zEdit</a></li><li><a href=#create-plugin>Create Plugin</a></li><li><a href=#output>Output</a></li></ul></li><li><a href=#regenerating-facegen>Regenerating Facegen</a><ul><li><a href=#filter-npc-records>Filter NPC Records</a></li><li><a href=#export-facegen>Export Facegen</a></li></ul></li><li><a href=#optimising-facegen>Optimising Facegen</a><ul><li><a href=#cathedral-assets-optimizer>Cathedral Assets Optimizer</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://thephoenixflavour.com/skyrim-se/>Skyrim SE</a></li><li class=breadcrumb-item><a href=https://thephoenixflavour.com/skyrim-se/finalisation/>Finalisation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://thephoenixflavour.com/skyrim-se/finalisation/facegen/>Facegen</a></li></ol></nav><div class=td-content><h1>Facegen</h1><div class=lead>Creating facegen for vanilla NPCs and mods.</div><h2 id=about-facegen>About Facegen</h2><p>Among the most common &ldquo;bugs&rdquo; in Skyrim is the dreaded &ldquo;black face&rdquo; which is simply mismatched facegen. NPC heads - specifically tintmasks like dirt, warpaints, makeup - are defined in their records (in the official master files and sometimes other mods that change them) but there must be matching textures and meshes present as well. The &ldquo;black face&rdquo; occurs when the facegen files (aforementioned textures and meshes) do not match the NPC record. The facegen files are generated by the Creation Kit.</p><p>TPF is using a number of mods to improve NPC appearance. However, by default many of these mods will only affect the player character and facegen must be regenerated with those mods so that they can apply to NPCs as well. In this step we will regenerate facegen not only for all vanilla NPCs but also for NPCs added by certain mods for consistent and high quality facegen across the board.</p><p>The process of creating facegen was significantly simplified by <strong>Nuukem&rsquo;s Creation Kit Fixes</strong> and <strong>VictorF&rsquo;s zEdit script</strong>.</p><h3 id=new-separator>New Separator</h3><ul><li>Create a <strong>PATCHER OUTPUT</strong> in Mod Organizer 2.</li><li>It should be at the bottom of your mod order, below the CRP.</li></ul><h2 id=creation-kit-tweak>Creation Kit Tweak</h2><p>By default the Creation Kit will generate facetint textures with a 512x512 resolution. Thanks to CK Fixes we can easily increase the resolution for higher quality output.</p><ul><li>Navigate to your <strong>root</strong> folder.</li><li>Double-click <strong>skyrim64_test.ini</strong>.</li><li>Scroll to <strong>Line 31</strong> and change the line to <code>TintMaskResolution=1024</code>.</li><li>Save the file and close.</li></ul><h2 id=npcswithfaces>NPCsWithFaces</h2><p>The official master files have a large amount of NPC records, not all of which need facegen. For example, we don&rsquo;t need to regenerate facegen for children, NPCs that have templates (use facegen from other records), or simply creatures. Thankfully, we can use zEdit and a code snippet by VictorF to filter out relevant records and copy them to a separate plugin. We will also use it to filter out NPC records with facegen from those mods that add new NPCs at the same time.</p><ul><li>Download the <strong>NPCsWithFaces - zEdit Script</strong> from the <a href="https://www.nexusmods.com/skyrimspecialedition/mods/26092?tab=files">Nexus page</a> manually.</li><li>Open the archive and extract the script to <code>Your Modding Folder\Tools\zEdit\scripts\</code>.</li></ul><h3 id=open-in-zedit>Open in zEdit</h3><ul><li>Run <strong>zEdit</strong> through Mod Organizer 2.</li><li>The regular <strong>zEdit</strong> mode and <strong>Skyrim SE</strong> should be selected by default. Click <strong>Start Session</strong>.</li><li>Click on any plugin in the <strong>Load Order</strong> window and press CTRL+A to select all.</li><li>Right-click the highlighted plugins and select <strong>Uncheck selected</strong>.</li><li>Now check only the following plugins:<ul><li><code>Skyrim.esm</code></li><li><code>Update.esm</code></li><li><code>Dawnguard.esm</code></li><li><code>HearthFires.esm</code></li><li><code>Dragonborn.esm</code></li><li><code>Unofficial Skyrim Special Edition Patch.esp</code></li><li><code>SimpleVampFixesSSE.esp</code></li><li><code>NaturalHairColors.esp</code></li><li><code>CFTO.esp</code></li><li><code>DIVERSE SKYRIM.esp</code></li><li><code>Immersive Patrols II.esp</code></li><li><code>OCW_Obscure's_CollegeofWinterhold.esp</code></li><li><code>ICNs_ImmersiveCollegeNPCs.esp</code></li></ul></li><li>Click <strong>OK</strong> to load the selected plugins.</li></ul><h3 id=create-plugin>Create Plugin</h3><ul><li>Proceed once zEdit has loaded the selected plugins (will only take a few second).</li><li>Right-click anywhere in the left pane and select <strong>Automate</strong>.</li><li>Make sure the <strong>NPCsWithFaces.js</strong> script is selected.</li><li>Click <strong>OK</strong> to run the script.</li></ul><p><img src=/Pictures/skyrim-se/finalisation/zedit-npc-script.png alt="zEdit NPC Script"></p><h3 id=output>Output</h3><ul><li>When the plugin has been generated, zEdit will return <code>Script completed</code> and you can close the tool.</li><li>Click <strong>Save</strong> when asked (NPCsWithFaces.esp should be checked).</li><li>In Mod Organizer 2, scroll to the bottom and double-click the <em><strong>Overwrite</strong></em>.</li><li>Delete the (empty) <strong>zEdit Backups</strong> folder, then close the <em><strong>Overwrite</strong></em> window.</li><li>Right-click the <em><strong>Overwrite</strong></em> and select <strong>Create Mod</strong>.</li><li>Enter <strong>NPCs With Faces</strong> as the name and click <strong>OK</strong>.</li><li>Move the new mod directly below the <strong>PATCHER OUTPUT</strong> separator and activate it.</li><li>Load order doesn&rsquo;t matter for the plugin, leave it at the bottom but make sure it&rsquo;s activated.</li></ul><blockquote><p>The Overwrite must be completely empty at this point.</p></blockquote><h2 id=regenerating-facegen>Regenerating Facegen</h2><p>Now we get to the heart of the matter: Rebuilding facegen for all NPCs, vanilla and mod-added. Facegen is generated in the Creation Kit and thanks to <a href=https://www.nexusmods.com/skyrimspecialedition/mods/20061>Creation Kit Fixes</a> it&rsquo;s fast and easy.</p><ul><li>Run the <strong>Creation Kit</strong> through Mod Organizer 2.</li><li>Go to <strong>File</strong> &#187; <strong>Data</strong> and scroll all the way to the bottom of the load order in the left pane.</li><li>Select the <strong>NPCsWithFaces.esp</strong> and click the <strong>Set as Active File</strong> button, then click <strong>OK</strong> to load the plugin.</li></ul><p><img src=/Pictures/skyrim-se/finalisation/load-plugin-ck.png alt="Open Plugin in CK"></p><h3 id=filter-npc-records>Filter NPC Records</h3><p>Proceed when the CK has loaded up the plugin and its dependencies.</p><ul><li>In the list of record types on the left, expand <strong>Actors</strong> and select <strong>Actor</strong>.</li><li>Check the box for <strong>Show only active (*) forms</strong>.</li></ul><blockquote><p>The option to filter for active forms is added by CK Fixes and it&rsquo;s ingenious. Checking it will make it so only records touched by the current active plugin are displayed which means we only see NPC records filtered out earlier in zEdit into the NPCsWithFaces plugin.</p></blockquote><p><img src=/Pictures/skyrim-se/finalisation/filter-npc-records.png alt="Filter NPC Records"></p><h3 id=export-facegen>Export Facegen</h3><ul><li>The records should be sorted alphabetically (click the <strong>Editor ID</strong> column if they aren&rsquo;t).</li><li>Click the <strong>Abelone</strong> NPC near the top (we&rsquo;re skipping the dummy NPCs).</li><li>Scroll down all the way to the bottom. Hold SHIFT and click the final NPC <strong>Zaynabi</strong> to highlight all records in between.</li><li>Press <strong>CTRL + F4</strong> to export facegen and click <strong>Yes</strong> to confirm.</li><li>You can check the progress in the <strong>Log</strong> window. Ignore the warnings.</li><li>Exporting facegen for all NPCs will take a few minutes. Wait until a window pops up that simply says <strong>Done</strong>.</li><li>Click <strong>OK</strong> and close the Creation Kit.</li></ul><blockquote><p>If you run into errors and crashes trying to export facegen, try going a few at a time. For example, you can go through by letter, exporting for NPCs starting with A, then B, and so forth.</p></blockquote><p><img src=/Pictures/skyrim-se/finalisation/ck-export-facegen.png alt="Export Facegen"></p><h2 id=optimising-facegen>Optimising Facegen</h2><p>At this time you will have about 17GB of loose facegen files in your <em><strong>Overwrite</strong></em> folder. Before we slim those down, let&rsquo;s clean up a bit:</p><ul><li>Right-click your <em><strong>Overwrite</strong></em> folder and select <strong>Create mod</strong>.</li><li>Enter <strong>Facegen Output</strong> as the name and click <strong>OK</strong>.</li><li>Move the mod below <strong>NPCs With Faces</strong> in your mod order and activate it.</li><li>Deactive the <strong>NPCs With Faces</strong> mod (it&rsquo;s only needed for regenerating the facegen files themselves).</li></ul><h3 id=cathedral-assets-optimizer>Cathedral Assets Optimizer</h3><p>Using CAO we will compress the facegen files and pack them neatly into BSAs. This will bring down the total file size from 17GB to around 2GB.</p><ul><li>Run <strong>Cathedral Assets Optimizer</strong> (outside of Mod Organizer 2).</li><li>Select the <strong>SSE - Optimise Facegen</strong> profile.</li><li>Click <strong>Open Directory</strong> and navigate to your <strong>Facegen Output</strong> mod folder.</li><li>Click <strong>Run</strong> and wait for CAO to process all files.</li><li>This will take some time (about 6 minutes for me). The CAO log will eventually return <code>[INFO] Process completed</code>. Close CAO.</li><li>Return to Mod Organizer 2 and press F5 to refresh. Two new plugins will appear at the bottom of your load order.</li><li>Make sure both <strong>Facegen Output.esp</strong> and <strong>Facegen Output0.esp</strong> are checked so they can load the BSAs containing the facegen files.</li></ul><div class="text-muted mt-5 pt-3 border-top">Last modified March 4, 2021</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/foreverphoenix/the-phoenix-flavour><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discord aria-label=Discord><a class=text-white target=_blank href=https://discord.gg/BpwXX5f><i class="fab fa-discord"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Patreon aria-label=Patreon><a class=text-white target=_blank href=https://www.patreon.com/thephoenixflavour><i class="fab fa-patreon"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 Phoenix All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/js/main.min.082688e6605f0ab020970ead3e0004da4d3f71da48827777ede25e5ccb889525.js integrity="sha256-CCaI5mBfCrAglw6tPgAE2k0/cdpIgnd37eJeXMuIlSU=" crossorigin=anonymous></script></body></html>